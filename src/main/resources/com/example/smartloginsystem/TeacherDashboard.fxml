<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="846.0" prefWidth="1394.0"
            style="-fx-background-color: linear-gradient(to bottom right, #89F7FE, #66A6FF);"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.smartloginsystem.TeacherDashboardController">

    <!-- Sidebar -->
    <VBox prefWidth="240" spacing="0" style="-fx-background-color: linear-gradient(to bottom right, #134E5E, #71B280);" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0">

        <!-- Teacher Info -->
        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 25; -fx-border-color: #334155; -fx-border-width: 0 0 1 0;">
            <StackPane style="-fx-background-color: #ffffff; -fx-background-radius: 40; -fx-padding: 2;">
                <ImageView fx:id="avatarView" fitHeight="64" fitWidth="64" preserveRatio="true">
                    <image>
                        <Image url="@img_2.png"/>
                    </image>
                </ImageView>
            </StackPane>
            <Label fx:id="teacherName" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;" text="Dr. Md. Arshad Ali"/>
            <Label fx:id="teacherRole" style="-fx-font-size: 13px; -fx-text-fill: #cbd5e1;" text="Supervisor | CSE Dept"/>
        </VBox>

        <!-- Menu Buttons -->
        <VBox spacing="10" style="-fx-padding: 20;">
            <Button text="ðŸ§‘â€ðŸŽ“  My Students" onAction="#showStudents" style="-fx-background-color: white; -fx-text-fill: black; -fx-font-size: 13px; -fx-background-radius: 8;"/>
            <Button text="ðŸ“¤  Pending Approvals" onAction="#showPending" style="-fx-background-color: white; -fx-text-fill: black; -fx-font-size: 13px; -fx-background-radius: 8;"/>
            <Button text="ðŸ“Š  Dashboard Analytics" onAction="#showAnalytics" style="-fx-background-color: white; -fx-text-fill: black; -fx-font-size: 13px; -fx-background-radius: 8;"/>
            <Button text="âš™  Settings" style="-fx-background-color: white; -fx-text-fill: black; -fx-font-size: 13px; -fx-background-radius: 8;"/>
        </VBox>

        <VBox style="-fx-padding: 20;">
            <Button text="ðŸšª Logout" onAction="#handleLogout" style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;"/>
        </VBox>
    </VBox>

    <!-- Main Content -->
    <VBox layoutX="240" AnchorPane.leftAnchor="240" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" style="-fx-background-color: #f9fafb;">

        <!-- Header -->
        <HBox alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #141E30, #243B55); -fx-padding: 15 30;">
            <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;" text="Welcome, Professor! ðŸ‘‹"/>
        </HBox>

        <!-- Summary Cards -->
        <HBox spacing="20" style="-fx-padding: 25;">
            <StackPane style="-fx-background-color: linear-gradient(to bottom right, #C8FFD4, #A6F0C6); -fx-background-radius: 12;">
                <VBox alignment="CENTER" style="-fx-padding: 20;">
                    <Label text="Total Supervised Projects" style="-fx-font-size: 14px; -fx-font-weight: 500;"/>
                    <Label fx:id="supervisedCount" text="12" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                </VBox>
            </StackPane>

            <StackPane style="-fx-background-color: linear-gradient(to bottom right, #FFE4B5, #FFB347); -fx-background-radius: 12;">
                <VBox alignment="CENTER" style="-fx-padding: 20;">
                    <Label text="Pending Approvals" style="-fx-font-size: 14px; -fx-font-weight: 500;"/>
                    <Label fx:id="pendingCount" text="3" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                </VBox>
            </StackPane>

            <StackPane style="-fx-background-color: linear-gradient(to bottom right, #FF4C4C, #B30000); -fx-background-radius: 12;">
                <VBox alignment="CENTER" style="-fx-padding: 20;">
                    <Label text="High Similarity Alerts" style="-fx-font-size: 14px; -fx-font-weight: 500; -fx-text-fill: white;"/>
                    <Label fx:id="alertCount" text="1" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                </VBox>
            </StackPane>
        </HBox>

        <!-- Chart Area -->
        <HBox alignment="CENTER" spacing="40" style="-fx-padding: 30;">
            <PieChart fx:id="projectPie" prefHeight="250" prefWidth="250" />
            <LineChart fx:id="studentProgressChart" prefHeight="250" prefWidth="500">
                <xAxis>
                    <CategoryAxis label="Month"/>
                </xAxis>
                <yAxis>
                    <NumberAxis label="Projects Completed"/>
                </yAxis>
            </LineChart>
        </HBox>
    </VBox>
</AnchorPane>
